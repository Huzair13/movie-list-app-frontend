{"ast":null,"code":"import React,{useState,useEffect}from'react';import MovieList from'./MovieList/MovieListFile';import Search from'./SearchMovie/searchMovie';import Filter from'./FilterMovie/Filter';import{BrowserRouter as Router,Route,Routes,Link}from'react-router-dom';import MovieForm from'./AddMovie/AddMovieForm';import UpdateMovieForm from'./UpdateMovie/UpdateMovie';import'./CustomStyles/styles.css';import AppNavbar from'./NavBar/Navbar';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[movies,setMovies]=useState([]);const[loading,setLoading]=useState(true);const[filteredMovies,setFilteredMovies]=useState([]);useEffect(()=>{const endpoint='https://finaltask.huzairr.com/';fetchMovies(endpoint);},[]);const fetchMovies=async endpoint=>{try{const response=await fetch(endpoint);const data=await response.json();setMovies(data);setFilteredMovies(data);setLoading(false);}catch(error){console.error('Error fetching movies:',error);setLoading(false);}};const handleFilterChange=async _ref=>{let{filterBy,value}=_ref;try{const endpoint=`https://finaltask.huzairr.com/filter?${encodeURIComponent(filterBy)}=${encodeURIComponent(value)}`;console.log(endpoint);const response=await fetch(endpoint);console.log(response);const filteredData=await response.json();console.log(filteredData);await setFilteredMovies(filteredData);}catch(error){console.error('Error fetching filtered movies:',error);}};const headingStyle={fontFamily:'Georgia, serif',fontSize:'2rem',fontWeight:'bold',color:'Maroon'};const footerStyle={marginTop:'20px',textAlign:'center'};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(AppNavbar,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/add-movie\",element:/*#__PURE__*/_jsx(MovieForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/update-movie\",element:/*#__PURE__*/_jsx(UpdateMovieForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Search,{}),/*#__PURE__*/_jsx(Filter,{onFilterChange:handleFilterChange,movies:movies,setFilteredMovies:setFilteredMovies}),loading?/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:\"Loading...\"}):/*#__PURE__*/_jsx(MovieList,{movies:filteredMovies})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"custom-dark-olive\",style:footerStyle,children:[/*#__PURE__*/_jsx(\"p\",{className:\"title\",children:\"Contact Details:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"label_color\",children:\"Email: ahamedhuzair13@gmail.com\"}),/*#__PURE__*/_jsx(\"p\",{className:\"label_color\",children:\"Phone: 9677381857\"})]})]})});};export default App;","map":{"version":3,"names":["React","useState","useEffect","MovieList","Search","Filter","BrowserRouter","Router","Route","Routes","Link","MovieForm","UpdateMovieForm","AppNavbar","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","movies","setMovies","loading","setLoading","filteredMovies","setFilteredMovies","endpoint","fetchMovies","response","fetch","data","json","error","console","handleFilterChange","_ref","filterBy","value","encodeURIComponent","log","filteredData","headingStyle","fontFamily","fontSize","fontWeight","color","footerStyle","marginTop","textAlign","children","className","path","element","onFilterChange","style"],"sources":["/Users/huzairahmed/Documents/aws Training/Frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport MovieList from './MovieList/MovieListFile';\nimport Search from './SearchMovie/searchMovie';\nimport Filter from './FilterMovie/Filter';\nimport { BrowserRouter as Router, Route, Routes, Link } from 'react-router-dom';\nimport MovieForm from './AddMovie/AddMovieForm';\nimport UpdateMovieForm from './UpdateMovie/UpdateMovie';\nimport './CustomStyles/styles.css';\nimport AppNavbar from './NavBar/Navbar';\n\nconst App = () => {\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [filteredMovies, setFilteredMovies] = useState([]);\n\n  useEffect(() => {\n    const endpoint = 'https://finaltask.huzairr.com/';\n    fetchMovies(endpoint);\n  }, []);\n\n  const fetchMovies = async (endpoint) => {\n    try {\n      const response = await fetch(endpoint);\n      const data = await response.json();\n      setMovies(data);\n      setFilteredMovies(data);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching movies:', error);\n      setLoading(false);\n    }\n  };\n\n  const handleFilterChange = async ({ filterBy, value }) => {\n    try {\n      const endpoint = `https://finaltask.huzairr.com/filter?${encodeURIComponent(filterBy)}=${encodeURIComponent(value)}`;\n      console.log(endpoint)\n      const response = await fetch(endpoint);\n      console.log(response)\n      const filteredData = await response.json();\n      console.log(filteredData)\n      await setFilteredMovies(filteredData);\n    } catch (error) {\n      console.error('Error fetching filtered movies:', error);\n    }\n  };\n\n  const headingStyle = {\n    fontFamily: 'Georgia, serif',\n    fontSize: '2rem',\n    fontWeight: 'bold',\n    color: 'Maroon',\n  };\n\n  const footerStyle = {\n    marginTop: '20px', \n    textAlign: 'center',\n  };\n\n  return (\n    <Router>\n      <div className=\"app-container\">\n        <AppNavbar />\n        <Routes>\n          <Route path=\"/add-movie\" element={<MovieForm />} />\n          <Route path='/update-movie' element={<UpdateMovieForm />} />\n          <Route\n            path=\"/\"\n            element={(\n              <>\n                <Search />\n                <Filter onFilterChange={handleFilterChange} movies={movies} setFilteredMovies={setFilteredMovies} />\n                {loading ? (\n                  <p className=\"text-center\">Loading...</p>\n                ) : (\n                  <MovieList movies={filteredMovies} />\n                )}\n              </>\n            )}\n          />\n        </Routes>\n        <div className=\"custom-dark-olive\" style={footerStyle}>\n          <p className='title'>Contact Details:</p>\n          <p className='label_color'>Email: ahamedhuzair13@gmail.com</p>\n          <p className='label_color'>Phone: 9677381857</p>\n        </div>\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}