{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MovieUpdateForm=()=>{const[updateData,setUpdateData]=useState({movieName:'',language:'',director:'',releaseYear:'',rating:''});const navigate=useNavigate();const handleInputChange=e=>{const{name,value}=e.target;setUpdateData({...updateData,[name]:value});};const handleFormSubmit=async e=>{e.preventDefault();try{const updatedMovieData={};for(const key in updateData){if(updateData[key]!==''){updatedMovieData[key]=updateData[key];}}const response=await axios.put(`https://finaltask.huzairr.com/movies/${updateData.movieName}`,updatedMovieData);console.log(response.data);navigate('/');setTimeout(()=>{window.location.reload();},500);}catch(error){console.error('Error updating movie:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\"Update Movie\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"language\",className:\"form-label\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"movieName\",name:\"movieName\",value:updateData.movieName,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"language\",className:\"form-label\",children:\"Language:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"language\",name:\"language\",value:updateData.language,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"director\",className:\"form-label\",children:\"Director:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"director\",name:\"director\",value:updateData.director,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"releaseYear\",className:\"form-label\",children:\"Release Year:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",id:\"releaseYear\",name:\"releaseYear\",value:updateData.releaseYear,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"rating\",className:\"form-label\",children:\"Rating:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",id:\"rating\",name:\"rating\",value:updateData.rating,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Update\"})]})]});};export default MovieUpdateForm;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","MovieUpdateForm","updateData","setUpdateData","movieName","language","director","releaseYear","rating","navigate","handleInputChange","e","name","value","target","handleFormSubmit","preventDefault","updatedMovieData","key","response","put","console","log","data","setTimeout","window","location","reload","error","className","children","onSubmit","htmlFor","type","id","onChange"],"sources":["/Users/huzairahmed/Documents/aws Training/Frontend/src/UpdateMovie/UpdateMovie.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nconst MovieUpdateForm = () => {\n  const [updateData, setUpdateData] = useState({\n    movieName:'',\n    language: '',\n    director: '',\n    releaseYear: '',\n    rating: '',\n  });\n\n  const navigate = useNavigate(); \n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setUpdateData({ ...updateData, [name]: value });\n  };\n\n  const handleFormSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      const updatedMovieData = {};\n      for (const key in updateData) {\n        if (updateData[key] !== '') {\n          updatedMovieData[key] = updateData[key];\n        }\n      }\n\n      const response = await axios.put(`https://finaltask.huzairr.com/movies/${updateData.movieName}`, updatedMovieData);\n      console.log(response.data);\n      navigate('/');\n\n      setTimeout(() => {\n        window.location.reload();\n        }, 500);\n\n    } catch (error) {\n      console.error('Error updating movie:', error);\n    }\n  };\n\n  return (\n    <div className=\"container mt-5\">\n      <h2 className=\"text-center\">Update Movie</h2>\n      <form onSubmit={handleFormSubmit}>\n      <div className=\"mb-3\">\n          <label htmlFor=\"language\" className=\"form-label\">\n            Name:\n          </label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"movieName\"\n            name=\"movieName\"\n            value={updateData.movieName}\n            onChange={handleInputChange}\n          />\n        </div>\n        <div className=\"mb-3\">\n          <label htmlFor=\"language\" className=\"form-label\">\n            Language:\n          </label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"language\"\n            name=\"language\"\n            value={updateData.language}\n            onChange={handleInputChange}\n          />\n        </div>\n        <div className=\"mb-3\">\n          <label htmlFor=\"director\" className=\"form-label\">\n            Director:\n          </label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"director\"\n            name=\"director\"\n            value={updateData.director}\n            onChange={handleInputChange}\n          />\n        </div>\n        <div className=\"mb-3\">\n          <label htmlFor=\"releaseYear\" className=\"form-label\">\n            Release Year:\n          </label>\n          <input\n            type=\"number\"\n            className=\"form-control\"\n            id=\"releaseYear\"\n            name=\"releaseYear\"\n            value={updateData.releaseYear}\n            onChange={handleInputChange}\n          />\n        </div>\n        <div className=\"mb-3\">\n          <label htmlFor=\"rating\" className=\"form-label\">\n            Rating:\n          </label>\n          <input\n            type=\"number\"\n            className=\"form-control\"\n            id=\"rating\"\n            name=\"rating\"\n            value={updateData.rating}\n            onChange={handleInputChange}\n          />\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary\">\n          Update\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default MovieUpdateForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}